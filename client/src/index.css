@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme colors for light and dark mode */
:root {
  --background: 0 0% 98%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 271.4 81.3% 55.9%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 271.4 81.3% 55.9%;
  --radius: 0.5rem;
}

.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 271.4 81.3% 55.9%;
  --primary-foreground: 210 40% 98%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 271.4 81.3% 55.9%;
}

/* Custom height for h-screen to fix vertical scrolling issues */
.h-screen {
  height: 82vh;
}

/* Hide Replit metadata borders */
[data-replit-metadata], [data-component-name] {
  outline: none !important;
  border: none !important;
  box-shadow: none !important;
}

/* Remove borders from the card components */
.Droppable div, .Draggable div, [data-rfd-droppable-id], [data-rfd-draggable-id], [data-rfd-draggable-context-id], [data-rfd-droppable-context-id] {
  outline: none !important;
  border: none !important;
}

/* Remove debug outlines */
div[role="button"], div[tabindex="0"] {
  outline: none !important;
  border: none !important;
}

/* Custom scrollbars for order columns */
.pending-column::-webkit-scrollbar {
  width: 6px;
}
.pending-column::-webkit-scrollbar-track {
  background-color: rgba(217, 119, 6, 0.2);
  border-radius: 6px;
}
.pending-column::-webkit-scrollbar-thumb {
  background-color: #92400e;
  border-radius: 6px;
}
.pending-column::-webkit-scrollbar-thumb:hover {
  background-color: #b45309;
}

.preparing-column::-webkit-scrollbar {
  width: 6px;
}
.preparing-column::-webkit-scrollbar-track {
  background-color: rgba(5, 150, 105, 0.2);
  border-radius: 6px;
}
.preparing-column::-webkit-scrollbar-thumb {
  background-color: #065f46;
  border-radius: 6px;
}
.preparing-column::-webkit-scrollbar-thumb:hover {
  background-color: #047857;
}

.ready-column::-webkit-scrollbar {
  width: 6px;
}
.ready-column::-webkit-scrollbar-track {
  background-color: rgba(37, 99, 235, 0.2);
  border-radius: 6px;
}
.ready-column::-webkit-scrollbar-thumb {
  background-color: #1e40af;
  border-radius: 6px;
}
.ready-column::-webkit-scrollbar-thumb:hover {
  background-color: #1d4ed8;
}

.delivered-column::-webkit-scrollbar {
  width: 6px;
}
.delivered-column::-webkit-scrollbar-track {
  background-color: rgba(79, 70, 229, 0.2);
  border-radius: 6px;
}
.delivered-column::-webkit-scrollbar-thumb {
  background-color: #4338ca;
  border-radius: 6px;
}
.delivered-column::-webkit-scrollbar-thumb:hover {
  background-color: #4f46e5;
}

.billed-column::-webkit-scrollbar {
  width: 6px;
}
.billed-column::-webkit-scrollbar-track {
  background-color: rgba(219, 39, 119, 0.2);
  border-radius: 6px;
}
.billed-column::-webkit-scrollbar-thumb {
  background-color: #be185d;
  border-radius: 6px;
}
.billed-column::-webkit-scrollbar-thumb:hover {
  background-color: #db2777;
}

/* Custom colors */
.text-navy {
  color: #1a237e !important;
}

/* Text shadow utilities for better readability on gradient backgrounds */
.text-shadow-sm {
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.text-shadow-md {
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.text-shadow-lg {
  text-shadow: 0 4px 6px rgba(0,0,0,0.4);
}

/* Enhanced checkboxes for selection mode */
.selection-checkbox [data-state="checked"] {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
}

/* Make all checkboxes larger and more visible */
[data-radix-checkbox-root], 
[role="checkbox"],
input[type="checkbox"],
div[data-state="checked"],
div[data-state="unchecked"] {
  height: 1.25rem !important;
  width: 1.25rem !important;
  border-width: 2px !important;
  border-color: #7c3aed !important;
  border-radius: 0.25rem !important;
}

/* Style the checked state */
[data-state="checked"] {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
}

/* Make the checkboxes more visible in cards */
.rounded-lg [role="checkbox"] {
  box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.5) !important;
}

@layer base {
  * {
    @apply border-border;
  }
  
  /* Override all Replit metadata borders */
  *[data-replit-metadata], *[data-component-name], *[data-rfd-droppable-id], *[data-rfd-draggable-id] {
    outline: none !important;
    border: none !important;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
  
  /* Card and elements styles with theme variable support */
  .card {
    @apply bg-card border-border shadow-md;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply text-foreground font-semibold;
  }
  
  /* Button styles with theme variable support */
  .btn-primary {
    @apply bg-primary hover:bg-primary/90 text-primary-foreground;
  }
  
  .btn-outline {
    @apply border-primary text-primary hover:bg-primary/10;
  }
  
  /* Table styles with theme variable support */
  table {
    @apply bg-card border-border;
  }
  
  th {
    @apply bg-muted text-muted-foreground font-semibold;
  }
  
  td {
    @apply border-border text-card-foreground;
  }
  
  tr:hover {
    @apply bg-muted/50;
  }
  
  /* Light mode specific improvements */
  .light {
    /* Enhanced popover and dropdown visibility */
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    
    /* Stronger card borders for better definition */
    .card {
      @apply shadow-md border border-gray-200;
    }
    
    /* Better input field visibility */
    input, textarea, select {
      @apply border-gray-300 bg-white text-gray-800;
    }
    
    /* Enhanced dropdown menu styling */
    [role="menu"], [data-radix-popper-content-wrapper] {
      @apply shadow-lg border border-gray-200 bg-white;
    }
    
    /* All popovers and dropdown styling */
    [data-state="open"], [data-state="closed"], [data-radix-menu-content], [data-radix-dropdown-menu-content] {
      @apply shadow-md bg-white border border-gray-200;
    }
    
    /* All menu items and dropdown items */
    [role="menuitem"] {
      @apply text-gray-800 hover:bg-gray-100;
    }
    
    /* Improved button contrast */
    button {
      @apply text-gray-800 border-gray-300;
    }
    
    /* Shadcn dialog improvements */
    [role="dialog"] {
      @apply bg-white border border-gray-200 shadow-xl;
    }
    
    /* Fix for modal backgrounds in light mode */
    [data-radix-dialog-overlay], [data-overlay-container] {
      @apply bg-gray-800/30;
    }
    
    /* Fix for order view details dialog in light mode */
    .bill-details,
    [data-dialog-content] {
      @apply bg-white text-gray-800 !important;
    }
    
    /* Fix bill details dialog headers in light mode */
    .bill-details h2,
    [data-dialog-title] {
      @apply text-gray-800 !important;
    }
    
    /* Fix for bill details dialog in light mode */
    .bill-summary,
    [data-dialog-description] {
      @apply bg-white text-gray-800 !important;
    }
    
    /* Target specific elements in BillDetails component */
    .space-y-3 > div[class*="bg-purple-900"],
    .space-y-3 > div[class*="bg-gray-900"],
    .space-y-3 [class*="bg-gray-800"],
    .space-y-3 [class*="bg-gray-700"],
    .space-y-3 [class*="border-gray-700"] {
      @apply bg-white border-gray-300 text-gray-800 !important;
    }
    
    /* Target table headers in BillDetails */
    .space-y-3 th {
      @apply bg-gray-100 text-gray-800 !important;
    }
    
    /* Target specific text colors in BillDetails */
    .space-y-3 [class*="text-white"],
    .space-y-3 [class*="text-gray-200"],
    .space-y-3 [class*="text-gray-300"],
    .space-y-3 [class*="text-purple-200"],
    .space-y-3 [class*="text-purple-300"] {
      @apply text-gray-800 !important;
    }
    
    /* Fix for create order popup in light mode */
    #create-order-panel,
    [role="tabpanel"],
    [data-state="active"],
    .TabsContent,
    div[class*="bg-neutral-900"],
    div[class*="bg-black"],
    div[class*="bg-purple-950"],
    div[class*="bg-blue-950"],
    div[class*="bg-neutral-950"] {
      @apply bg-white text-gray-800 !important;
    }
    
    /* Fix text colors in dialogs and tab panels */
    [data-state="active"] [class*="text-white"],
    [data-state="active"] [class*="text-gray-200"],
    [data-state="active"] [class*="text-gray-300"],
    [data-state="active"] [class*="text-gray-400"],
    [data-state="active"] [class*="text-neutral-300"],
    [data-state="active"] [class*="text-purple-200"],
    [data-state="active"] [class*="text-purple-300"],
    [data-state="active"] [class*="text-blue-300"],
    [data-state="active"] [class*="text-blue-400"],
    [data-state="active"] [class*="text-green-300"] {
      @apply text-gray-800 !important;
    }
    
    /* Fix background and borders in tab panels */
    [data-state="active"] div[class*="border-gray-800"],
    [data-state="active"] div[class*="border-gray-700"],
    [data-state="active"] div[class*="border-purple-900"],
    [data-state="active"] div[class*="border-blue-900"],
    [data-state="active"] div[class*="border-green-900"] {
      @apply border-gray-200 !important;
    }
    
    /* Fix card backgrounds in tab panels */
    [data-state="active"] div[class*="bg-gray-800"],
    [data-state="active"] div[class*="bg-gray-900"],
    [data-state="active"] div[class*="bg-purple-900"],
    [data-state="active"] div[class*="bg-blue-900"],
    [data-state="active"] div[class*="bg-green-900"] {
      @apply bg-gray-100 !important;
    }
    
    /* Fix specific bill details dialog */
    table[class*="min-w-full"] {
      @apply border-gray-300 !important;
    }
    
    table[class*="min-w-full"] thead {
      @apply bg-gray-100 !important;
    }
    
    table[class*="min-w-full"] th,
    table[class*="min-w-full"] td {
      @apply text-gray-800 !important;
    }
    
    /* Target specific backgrounds in bill details and order create */
    [role="dialog"] [class*="bg-purple-900"],
    [role="dialog"] [class*="bg-gray-900"],
    [role="dialog"] [class*="bg-gray-800"],
    [role="dialog"] [class*="bg-black"] {
      @apply bg-white !important;
    }
    
    /* Ensure buttons in dialogs maintain text color */
    [role="dialog"] button[class*="bg-purple-700"] span,
    [role="dialog"] button[class*="bg-blue-600"] span,
    [role="dialog"] button[class*="bg-green-600"] span {
      @apply text-white !important;
    }
    
    /* Fix for card backface in light mode */
    .card-back,
    [role="tab"][data-state="inactive"] {
      @apply bg-white text-gray-800 !important;
    }
    
    /* All cards with gradients need white text */
    .bg-gradient-to-r {
      @apply text-white;
    }
    
    /* Stats cards in light mode */
    .stats-card {
      @apply border border-gray-200 shadow-md;
    }
    
    /* Toast styling for light mode */
    [role="status"] {
      @apply bg-white border border-gray-200 shadow-md text-gray-800;
    }
  }
  
  /* Dark mode specific improvements */
  .dark {
    /* Better form element visibility */
    input, textarea, select {
      @apply bg-gray-800 border-gray-700 text-gray-100;
    }
    
    /* Enhanced dialog contrast */
    [role="dialog"] {
      @apply bg-gray-900 border-gray-700;
    }
    
    /* Improved button visibility */
    button {
      @apply text-gray-200;
    }
    
    /* Enhanced dropdown menu styling */
    [role="menu"], [data-radix-popper-content-wrapper] {
      @apply shadow-lg border border-gray-700 bg-gray-800;
    }
    
    /* All popovers and dropdown styling */
    [data-state="open"], [data-state="closed"], [data-radix-menu-content], [data-radix-dropdown-menu-content] {
      @apply shadow-md bg-gray-800 border border-gray-700;
    }
    
    /* All menu items and dropdown items */
    [role="menuitem"] {
      @apply text-gray-200 hover:bg-gray-700;
    }
    
    /* Stats cards with more contrast in dark mode */
    .stats-card {
      @apply border border-gray-700 bg-gray-800 shadow-md;
    }
    
    /* Toast styling for dark mode */
    [role="status"] {
      @apply bg-gray-800 border border-gray-700 shadow-md text-gray-200;
    }
    
    /* Card styling in dark mode */
    .card {
      @apply border-gray-700 bg-gray-800;
    }
    
    /* Table styling for dark mode */
    table {
      @apply border-gray-700;
    }
    
    th {
      @apply bg-gray-800 text-gray-300 border-b border-gray-700;
    }
    
    td {
      @apply border-gray-700 text-gray-200;
    }
    
    tr:hover {
      @apply bg-gray-700/50;
    }
  }
  
  /* Order card styles */
  .order-card-text {
    @apply text-white;
  }
  
  .order-card-text h3 {
    @apply font-bold text-lg text-white;
  }
  
  .order-card-text .time, .order-card-text .table-number {
    @apply text-xs text-white opacity-80;
  }
  
  .order-card-text .amount {
    @apply font-bold text-white;
  }
  
  /* Apply these styles to all text elements in cards, regardless of class names */
  /* Target prepare/ready/completed order cards with white text */
  [droppableId="preparing"] .rounded-lg .text-xs,
  [droppableId="ready"] .rounded-lg .text-xs,
  [droppableId="completed"] .rounded-lg .text-xs,
  [droppableId="billed"] .rounded-lg .text-xs,
  [droppableId="preparing"] .rounded-lg .text-neutral-500,
  [droppableId="ready"] .rounded-lg .text-neutral-500,
  [droppableId="completed"] .rounded-lg .text-neutral-500,
  [droppableId="billed"] .rounded-lg .text-neutral-500 {
    color: white !important;
    opacity: 0.8;
  }
  
  /* All card text styling for gradient backgrounds */
  [droppableId] .rounded-lg .text-xs,
  [droppableId] .rounded-lg .text-neutral-500,
  .bg-gradient-to-r .text-xs,
  .bg-gradient-to-r .text-neutral-500 {
    color: white !important;
    opacity: 0.8;
  }
  
  /* Font bold handling for all cards */
  [droppableId] .rounded-lg .font-bold,
  .bg-gradient-to-r .font-bold {
    color: white !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }
  
  /* Headings for all cards */
  [droppableId] .rounded-lg h3,
  [droppableId] .rounded-lg .text-\[\#7A0177\],
  .bg-gradient-to-r h3,
  .bg-gradient-to-r .text-\[\#7A0177\] {
    color: white !important;
    font-weight: 700;
    font-size: 1.125rem;
    line-height: 1.75rem;
    text-shadow: 0 1px 3px rgba(0,0,0,0.4);
  }
  
  /* Enhance all white text on colored backgrounds for better readability */
  [data-state="active"] [class*="text-white"],
  [droppableId] [class*="text-white"],
  .bg-gradient-to-r [class*="text-white"] {
    @apply shadow-sm;
  }
}